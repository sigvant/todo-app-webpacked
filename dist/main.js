(()=>{function t(t){this.name=t,this.todos=[]}function e(t,e,n,a){this.name=t,this.date=e,this.priority=n,this.status=a}const n=document.querySelector(".todo-input"),a=document.querySelector(".todo-date-input"),d=document.querySelector(".priority-select"),s=document.querySelector(".todo-button"),o=document.querySelector(".todo-list"),c=document.querySelector(".filter-todo"),l=document.querySelector(".tab-button"),i=document.querySelector(".tab-list");function r(){u();let t=document.querySelector(".tab-active").children[0].children[0].innerText;tabs.forEach((e=>{e.name==t&&e.todos.forEach((t=>{const e=document.createElement("div");e.classList.add("todo");let n=t.name,a=t.date,d=t.priority;const s=document.createElement("li");s.classList.add("todo-item");const c=document.createElement("div");c.textContent=n,c.classList.add("todo-info-boxes-name");const l=document.createElement("div");l.textContent=a,l.classList.add("todo-info-boxes-date");const i=document.createElement("div");i.textContent=d,i.classList.add("todo-info-boxes-priority"),s.appendChild(c),s.appendChild(l),s.appendChild(i),e.appendChild(s);const r=document.createElement("button");r.textContent="‚úîÔ∏è",r.classList.add("complete-btn"),e.appendChild(r);const m=document.createElement("button");m.textContent="üóëÔ∏è",m.classList.add("trash-btn"),e.appendChild(m),o.appendChild(e)}))}))}function m(){void 0!==i.childNodes[0]&&(i.childNodes[0].classList.add("tab-active"),r())}function u(){return null===localStorage.getItem("tabs")?tabs=[]:tabs=JSON.parse(localStorage.getItem("tabs")),tabs}document.querySelectorAll(".tab"),document.addEventListener("DOMContentLoaded",(function(){u(),tabs.forEach((function(t){let e=t.name,n=document.createElement("li");n.classList.add("tab");let a=document.createElement("div");a.classList.add("tab-div");let d=document.createElement("div");d.classList.add("span-div");let s=document.createElement("span");s.textContent=e;let o=document.createElement("div");o.classList.add("trashcan-div");let c=document.createElement("button");c.classList.add("trash-btn"),c.textContent="üóëÔ∏è",d.appendChild(s),a.appendChild(d),o.appendChild(c),n.appendChild(a),n.appendChild(o),i.appendChild(n)}))})),document.addEventListener("DOMContentLoaded",m),document.addEventListener("DOMContentLoaded",(function(){let t=new Date,e=t.getDate(),n=t.getMonth()+1;n<10&&(n=`0${n}`);let a=`${t.getFullYear()}-${n}-${e}`;document.querySelector(".todo-date-input").setAttribute("min",a)})),s.addEventListener("click",(function(t){t.preventDefault();const s=document.createElement("div");s.classList.add("todo");let c=n.value,l=a.value,i=d.value,r=new e(c,l,i);const m=document.createElement("li");m.classList.add("todo-item");const p=document.createElement("div");p.textContent=c,p.classList.add("todo-info-boxes-name");const b=document.createElement("div");b.textContent=l,b.classList.add("todo-info-boxes-date");const h=document.createElement("div");h.textContent=i,h.classList.add("todo-info-boxes-priority"),m.appendChild(p),m.appendChild(b),m.appendChild(h),s.appendChild(m),function(t){u();const e=document.querySelector(".tab-active").childNodes[0].innerText;tabs.forEach((n=>{n.name==e&&(n.todos.push(t),localStorage.setItem("tabs",JSON.stringify(tabs)))}))}(r);const L=document.createElement("button");L.textContent="‚úîÔ∏è",L.classList.add("complete-btn"),s.appendChild(L);const f=document.createElement("button");f.textContent="üóëÔ∏è",f.classList.add("trash-btn"),s.appendChild(f),o.appendChild(s),n.value="",a.value=""})),o.addEventListener("click",(function(t){const e=t.target;if("trash-btn"===e.classList[0]){const t=e.parentElement;t.classList.add("fall"),function(t){const e=t.childNodes[0].childNodes[0].innerText;u(),tabs.forEach((t=>{t.todos=t.todos.filter((t=>t.name!=e))})),localStorage.setItem("tabs",JSON.stringify(tabs))}(t),t.addEventListener("transitionend",(()=>{t.remove()}))}"complete-btn"===e.classList[0]&&e.parentElement.classList.toggle("completed")})),c.addEventListener("click",(function(t){o.childNodes.forEach((function(e){switch(t.target.value){case"all":e.style.display="flex";break;case"completed":e.classList.contains("completed")?e.style.display="flex":e.style.display="none";break;case"uncompleted":e.classList.contains("completed")?e.style.display="none":e.style.display="flex"}}))})),l.addEventListener("click",(function(e){e.preventDefault();let n=new t(prompt("Name your tab!","Popsicle")),a=document.createElement("li");a.classList.add("tab");let d=document.createElement("div");d.classList.add("tab-div");let s=document.createElement("div");s.classList.add("span-div");let o=document.createElement("span");o.textContent=n.name;let c=document.createElement("div");c.classList.add("trashcan-div");let l=document.createElement("button");l.classList.add("trash-btn-tab"),l.textContent="üóëÔ∏è",function(t){u(),tabs.push(t),localStorage.setItem("tabs",JSON.stringify(tabs))}(n),s.appendChild(o),d.appendChild(s),c.appendChild(l),a.appendChild(d),a.appendChild(c),i.appendChild(a),m()})),i.addEventListener("click",(function(t){const e=t.target;if("trash-btn-tab"===e.classList[0]||"trash-btn"===e.classList[0]){const t=e.parentElement.parentElement;if(1===t.parentElement.childNodes.length)return;t.classList.add("fall"),function(t){u();const e=t.children[0].innerText;tabs.splice(tabs.indexOf(e),1),localStorage.setItem("tabs",JSON.stringify(tabs))}(t),t.addEventListener("transitionend",(()=>{t.remove()}))}if("tab-div"===e.classList[0]||"tab"===e.classList[0]||"span-div"===e.classList[0]){let n=document.querySelectorAll(".tab");t.target.classList.contains("tab")&&(n.forEach((t=>t.classList.remove("tab-active"))),e.classList.add("tab-active"),document.querySelector(".todo-list").innerText="",r())}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y1ksVUFBWSxHQS9EekNKLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWFwcC13ZWJwYWNrZWQvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVGFiKG5hbWUpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLnRvZG9zID0gW107XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFRvZG8obmFtZSwgZGF0ZSwgcHJpb3JpdHksIHN0YXR1cykge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZVxyXG4gICAgdGhpcy5kYXRlID0gZGF0ZVxyXG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5XHJcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxufVxyXG5cclxuLy9zZWxlY3RvcnMgbWFpbiBhcmVhXHJcbmNvbnN0IHRvZG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWlucHV0Jyk7XHJcbmNvbnN0IHRvZG9EYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1kYXRlLWlucHV0Jyk7XHJcbmNvbnN0IHRvZG9Qcmlvcml0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW9yaXR5LXNlbGVjdCcpXHJcbmNvbnN0IHRvZG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1idXR0b24nKTtcclxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0Jyk7XHJcbmNvbnN0IGZpbHRlck9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItdG9kbycpO1xyXG5cclxuLy9zZWxlY3RvcnMgdGFiIGFyZWFcclxuY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYi1idXR0b24nKTtcclxuY29uc3QgVGFiTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWItbGlzdCcpO1xyXG5jb25zdCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiJyk7XHJcblxyXG4vL2V2ZW50IGxpc3RlbmVyc1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbG9hZFRhYnMpO1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYWN0aXZhdGVUYWIpO1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZ2V0VG9kYXlEYXRlKTtcclxudG9kb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFRvZG8pO1xyXG50b2RvTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZUNoZWNrKTtcclxuZmlsdGVyT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZmlsdGVyVG9kbyk7XHJcbmFkZFRhYkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZVRhYik7XHJcblRhYkxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVTZWxlY3RUYWIpO1xyXG5cclxuLy9mdW5jdGlvbnNcclxuZnVuY3Rpb24gYWRkVG9kbyhldmVudCkge1xyXG4gICAgLy9wcmV2ZW50IGZvcm0gZnJvbSBzdWJtaXR0aW5nXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gdG9kbyBESVZcclxuICAgIGNvbnN0IHRvZG9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRvZG9EaXYuY2xhc3NMaXN0LmFkZCgndG9kbycpO1xyXG4gICAgLy8gY3JlYXRlIExJXHJcblxyXG4gICAgLy8gdG9kbyBvYmplY3QgaW5zdGFudGlhdGlvblxyXG5cclxuICAgIGxldCBuYW1lID0gdG9kb0lucHV0LnZhbHVlO1xyXG4gICAgbGV0IGRhdGUgPSB0b2RvRGF0ZUlucHV0LnZhbHVlO1xyXG4gICAgbGV0IHByaW9yaXR5ID0gdG9kb1ByaW9yaXR5SW5wdXQudmFsdWU7XHJcbiAgICBsZXQgbmV3dG9kb29iaiA9IG5ldyBUb2RvKG5hbWUsIGRhdGUsIHByaW9yaXR5KTtcclxuXHJcblxyXG4gICAgY29uc3QgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBuZXdUb2RvLmNsYXNzTGlzdC5hZGQoJ3RvZG8taXRlbScpO1xyXG5cclxuICAgIGNvbnN0IG5ld1RvZG9OYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBuZXdUb2RvTmFtZURpdi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBuZXdUb2RvTmFtZURpdi5jbGFzc0xpc3QuYWRkKCd0b2RvLWluZm8tYm94ZXMtbmFtZScpXHJcblxyXG4gICAgY29uc3QgbmV3VG9kb0RhdGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5ld1RvZG9EYXRlRGl2LnRleHRDb250ZW50ID0gZGF0ZTtcclxuICAgIG5ld1RvZG9EYXRlRGl2LmNsYXNzTGlzdC5hZGQoJ3RvZG8taW5mby1ib3hlcy1kYXRlJylcclxuXHJcbiAgICBjb25zdCBuZXdUb2RvUHJpb3JpdHlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5ld1RvZG9Qcmlvcml0eURpdi50ZXh0Q29udGVudCA9IHByaW9yaXR5O1xyXG4gICAgbmV3VG9kb1ByaW9yaXR5RGl2LmNsYXNzTGlzdC5hZGQoJ3RvZG8taW5mby1ib3hlcy1wcmlvcml0eScpXHJcbiAgICBcclxuICAgIFxyXG4gICAgbmV3VG9kby5hcHBlbmRDaGlsZChuZXdUb2RvTmFtZURpdik7XHJcbiAgICBuZXdUb2RvLmFwcGVuZENoaWxkKG5ld1RvZG9EYXRlRGl2KTtcclxuICAgIG5ld1RvZG8uYXBwZW5kQ2hpbGQobmV3VG9kb1ByaW9yaXR5RGl2KTtcclxuXHJcbiAgICB0b2RvRGl2LmFwcGVuZENoaWxkKG5ld1RvZG8pO1xyXG5cclxuXHJcbiAgICAvLyBhZGQgdG9kbyB0byB0aGUgbG9jYWwgc3RvcmFnZVxyXG4gICAgLy8gc2F2ZUxvY2FsVG9kb3MobmV3dG9kb29iaik7XHJcbiAgICAvLyBDSEVDSyBNQVJLIGJ1dHRvblxyXG5cclxuICAgIC8vcHV0IHRvZG8gaW4gdGhlIGFjdGl2ZSB0YWJcclxuICAgIHNhdmVUb2Rvc2luVGFiKG5ld3RvZG9vYmopO1xyXG5cclxuICAgIGNvbnN0IGNvbXBsZXRlZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgY29tcGxldGVkQnV0dG9uLnRleHRDb250ZW50ID0gJ+KclO+4jyc7XHJcbiAgICBjb21wbGV0ZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnY29tcGxldGUtYnRuJyk7XHJcbiAgICB0b2RvRGl2LmFwcGVuZENoaWxkKGNvbXBsZXRlZEJ1dHRvbik7XHJcbiAgICBcclxuICAgIC8vIHRyYXNoIE1BUksgYnV0dG9uXHJcblxyXG4gICAgY29uc3QgdHJhc2hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHRyYXNoQnV0dG9uLnRleHRDb250ZW50ID0gJ/Cfl5HvuI8nO1xyXG4gICAgdHJhc2hCdXR0b24uY2xhc3NMaXN0LmFkZCgndHJhc2gtYnRuJyk7XHJcbiAgICB0b2RvRGl2LmFwcGVuZENoaWxkKHRyYXNoQnV0dG9uKTtcclxuXHJcbiAgICAvLyBhcHBlbmQgdG8gbGlzdFxyXG4gICAgdG9kb0xpc3QuYXBwZW5kQ2hpbGQodG9kb0Rpdik7XHJcbiAgICAvLyBjbGVhciB0b2RvIGlucHV0IHZhbHVlXHJcbiAgICB0b2RvSW5wdXQudmFsdWUgPSAnJztcclxuICAgIHRvZG9EYXRlSW5wdXQudmFsdWUgPSAnJztcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZVRvZG9zaW5UYWIodG9kbykge1xyXG4gICAgcmV0cmlldmVUYWJzRnJvbU1lbW9yeSgpOyBcclxuICAgIGNvbnN0IGFjdGl2ZVRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWItYWN0aXZlJyk7XHJcbiAgICBjb25zdCB0YWJOYW1lID0gYWN0aXZlVGFiLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0O1xyXG4gICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7XHJcbiAgICAgICAgaWYodGFiLm5hbWUgPT0gdGFiTmFtZSkge1xyXG4gICAgICAgICAgICB0YWIudG9kb3MucHVzaCh0b2RvKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhYnMnLCBKU09OLnN0cmluZ2lmeSh0YWJzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlQ2hlY2soZXZlbnQpIHtcclxuICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQ7XHJcbiAgICBcclxuICAgIC8vIGRlbGV0ZSB0b2RvXHJcbiAgICBpZihpdGVtLmNsYXNzTGlzdFswXSA9PT0gJ3RyYXNoLWJ0bicpIHtcclxuICAgICAgICBjb25zdCB0b2RvID0gaXRlbS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIC8vIGFuaW1hdGlvblxyXG4gICAgICAgIHRvZG8uY2xhc3NMaXN0LmFkZCgnZmFsbCcpO1xyXG4gICAgICAgIHJlbW92ZUxvY2FsVG9kb3ModG9kbyk7XHJcbiAgICAgICAgdG9kby5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0b2RvLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIG1hcmtcclxuXHJcbiAgICBpZihpdGVtLmNsYXNzTGlzdFswXSA9PT0gJ2NvbXBsZXRlLWJ0bicpIHtcclxuICAgICAgICBjb25zdCB0b2RvID0gaXRlbS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHRvZG8uY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlclRvZG8oZXZlbnQpIHtcclxuICAgIGNvbnN0IHRvZG9zID0gdG9kb0xpc3QuY2hpbGROb2RlcztcclxuICAgIHRvZG9zLmZvckVhY2goZnVuY3Rpb24odG9kbykge1xyXG4gICAgICAgIHN3aXRjaChldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnYWxsJzpcclxuICAgICAgICAgICAgICAgIHRvZG8uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxyXG4gICAgICAgICAgICAgICAgaWYodG9kby5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9kby5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2RvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndW5jb21wbGV0ZWQnOlxyXG4gICAgICAgICAgICAgICAgaWYoIXRvZG8uY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9kby5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2RvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9kb3MoKSB7XHJcbiAgICByZXRyaWV2ZVRhYnNGcm9tTWVtb3J5KCk7XHJcbiAgICBcclxuICAgIGxldCB0YWJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYi1hY3RpdmUnKS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lclRleHQ7XHJcbiAgICBcclxuICAgIHRhYnMuZm9yRWFjaCh0YWIgPT4ge1xyXG4gICAgICAgIGlmKHRhYi5uYW1lID09IHRhYk5hbWUpIHtcclxuICAgICAgICAgICAgdGFiLnRvZG9zLmZvckVhY2godG9kbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyB0b2RvIERJVlxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgdG9kb0Rpdi5jbGFzc0xpc3QuYWRkKCd0b2RvJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgTElcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHRvZG8gb2JqZWN0IGluc3RhbnRpYXRpb25cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gdG9kby5uYW1lO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSB0b2RvLmRhdGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0b2RvLnByaW9yaXR5OyAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgICAgICAgIG5ld1RvZG8uY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2RvTmFtZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbmV3VG9kb05hbWVEaXYudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgbmV3VG9kb05hbWVEaXYuY2xhc3NMaXN0LmFkZCgndG9kby1pbmZvLWJveGVzLW5hbWUnKVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VG9kb0RhdGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIG5ld1RvZG9EYXRlRGl2LnRleHRDb250ZW50ID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgIG5ld1RvZG9EYXRlRGl2LmNsYXNzTGlzdC5hZGQoJ3RvZG8taW5mby1ib3hlcy1kYXRlJylcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RvZG9Qcmlvcml0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbmV3VG9kb1ByaW9yaXR5RGl2LnRleHRDb250ZW50ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgICAgICAgICBuZXdUb2RvUHJpb3JpdHlEaXYuY2xhc3NMaXN0LmFkZCgndG9kby1pbmZvLWJveGVzLXByaW9yaXR5JylcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBuZXdUb2RvLmFwcGVuZENoaWxkKG5ld1RvZG9OYW1lRGl2KTtcclxuICAgICAgICAgICAgICAgIG5ld1RvZG8uYXBwZW5kQ2hpbGQobmV3VG9kb0RhdGVEaXYpO1xyXG4gICAgICAgICAgICAgICAgbmV3VG9kby5hcHBlbmRDaGlsZChuZXdUb2RvUHJpb3JpdHlEaXYpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdG9kb0Rpdi5hcHBlbmRDaGlsZChuZXdUb2RvKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQnV0dG9uLnRleHRDb250ZW50ID0gJ+KclO+4jyc7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnY29tcGxldGUtYnRuJyk7XHJcbiAgICAgICAgICAgICAgICB0b2RvRGl2LmFwcGVuZENoaWxkKGNvbXBsZXRlZEJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHRyYXNoIE1BUksgYnV0dG9uXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFzaEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgdHJhc2hCdXR0b24udGV4dENvbnRlbnQgPSAn8J+Xke+4jyc7XHJcbiAgICAgICAgICAgICAgICB0cmFzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0cmFzaC1idG4nKTtcclxuICAgICAgICAgICAgICAgIHRvZG9EaXYuYXBwZW5kQ2hpbGQodHJhc2hCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRvIGxpc3RcclxuICAgICAgICAgICAgICAgIHRvZG9MaXN0LmFwcGVuZENoaWxkKHRvZG9EaXYpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUxvY2FsVG9kb3ModG9kbykge1xyXG4gICAgY29uc3QgdG9kb0ZvclRhYiA9IHRvZG8uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dDtcclxuICAgIHJldHJpZXZlVGFic0Zyb21NZW1vcnkoKTtcclxuICAgIHRhYnMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpdGVtLnRvZG9zID0gaXRlbS50b2Rvcy5maWx0ZXIoaXRlbSA9PiBpdGVtLm5hbWUgIT0gdG9kb0ZvclRhYik7XHJcbiAgICB9KVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhYnMnLCBKU09OLnN0cmluZ2lmeSh0YWJzKSk7XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVGFiKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAgIFxyXG4gICAgXHJcbiAgICBsZXQgbmFtZSA9IHByb21wdCgnTmFtZSB5b3VyIHRhYiEnLCAnUG9wc2ljbGUnKTtcclxuICAgIGxldCB0YWIgPSBuZXcgVGFiKG5hbWUpO1xyXG5cclxuICAgIGxldCBuZXdUYWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgbmV3VGFiLmNsYXNzTGlzdC5hZGQoJ3RhYicpO1xyXG4gICAgbGV0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoJ3RhYi1kaXYnKTtcclxuICAgIGxldCBuZXdTcGFuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBuZXdTcGFuRGl2LmNsYXNzTGlzdC5hZGQoJ3NwYW4tZGl2Jyk7XHJcbiAgICBsZXQgbmV3U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIG5ld1NwYW4udGV4dENvbnRlbnQgPSB0YWIubmFtZTtcclxuXHJcbiAgICBsZXQgbmV3VHJhc2hjYW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5ld1RyYXNoY2FuRGl2LmNsYXNzTGlzdC5hZGQoJ3RyYXNoY2FuLWRpdicpXHJcbiAgICBsZXQgbmV3VHJhc2hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIG5ld1RyYXNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RyYXNoLWJ0bi10YWInKTtcclxuICAgIG5ld1RyYXNoQnV0dG9uLnRleHRDb250ZW50ID0gJ/Cfl5HvuI8nO1xyXG5cclxuICAgIC8vc2F2ZSB0YWIgdG8gbG9jYWwgbWVtb3J5XHJcbiAgICBzYXZlTG9jYWxUYWIodGFiKTtcclxuICAgIFxyXG4gICAgbmV3U3BhbkRpdi5hcHBlbmRDaGlsZChuZXdTcGFuKTtcclxuICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdTcGFuRGl2KTtcclxuICAgIG5ld1RyYXNoY2FuRGl2LmFwcGVuZENoaWxkKG5ld1RyYXNoQnV0dG9uKTtcclxuICAgIG5ld1RhYi5hcHBlbmRDaGlsZChuZXdEaXYpO1xyXG4gICAgbmV3VGFiLmFwcGVuZENoaWxkKG5ld1RyYXNoY2FuRGl2KTtcclxuICAgIFRhYkxpc3QuYXBwZW5kQ2hpbGQobmV3VGFiKTsgICBcclxuICAgIFxyXG4gICAgYWN0aXZhdGVUYWIoKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZVNlbGVjdFRhYihldmVudCkgeyBcclxuICAgIFxyXG4gICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldDtcclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyBkZWxldGUgdG9kb1xyXG4gICAgaWYoaXRlbS5jbGFzc0xpc3RbMF0gPT09ICd0cmFzaC1idG4tdGFiJyB8fCBpdGVtLmNsYXNzTGlzdFswXSA9PT0gJ3RyYXNoLWJ0bicgKSB7XHJcbiAgICAgICAgY29uc3QgdGFiID0gaXRlbS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gZG9lcyBub3QgYWxsb3cgZGVsZXRpb24gd2hlbiBvbmx5IG9uZSB0YWJcclxuICAgICAgICBpZih0YWIucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIGFuaW1hdGlvblxyXG4gICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdmYWxsJyk7XHJcbiAgICAgICAgcmVtb3ZlTG9jYWxUYWIodGFiKTtcclxuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGFiLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIG1hcmtcclxuXHJcbiAgICBpZihpdGVtLmNsYXNzTGlzdFswXSA9PT0gJ3RhYi1kaXYnIHx8IGl0ZW0uY2xhc3NMaXN0WzBdID09PSAndGFiJyB8fCBpdGVtLmNsYXNzTGlzdFswXSA9PT0gJ3NwYW4tZGl2Jykge1xyXG4gICAgICAgIGxldCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiJyk7XHJcbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFiJykpIHtcclxuICAgICAgICAgICAgdGFiLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYi1hY3RpdmUnKSk7XHJcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgndGFiLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjbGVhclRvZG9zKCk7XHJcbiAgICAgICAgICAgIGdldFRvZG9zKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZUxvY2FsVGFiKHRhYikge1xyXG4gICAgLy9jaGVjayAtLSBkbyBJIGFscmVhZHkgaGF2ZSB0aGluZ3MgaW4gdGhlcmU/XHJcbiAgICByZXRyaWV2ZVRhYnNGcm9tTWVtb3J5KCk7XHJcbiAgICB0YWJzLnB1c2godGFiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWJzJywgSlNPTi5zdHJpbmdpZnkodGFicykpOyAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkVGFicygpIHtcclxuICAgIHJldHJpZXZlVGFic0Zyb21NZW1vcnkoKTtcclxuICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbih0YWIpe1xyXG4gICAgICAgIGxldCBuYW1lID0gdGFiLm5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG5ld1RhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgbmV3VGFiLmNsYXNzTGlzdC5hZGQoJ3RhYicpO1xyXG4gICAgICAgIGxldCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZCgndGFiLWRpdicpO1xyXG4gICAgICAgIGxldCBuZXdTcGFuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbmV3U3BhbkRpdi5jbGFzc0xpc3QuYWRkKCdzcGFuLWRpdicpO1xyXG4gICAgICAgIGxldCBuZXdTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIG5ld1NwYW4udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IG5ld1RyYXNoY2FuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbmV3VHJhc2hjYW5EaXYuY2xhc3NMaXN0LmFkZCgndHJhc2hjYW4tZGl2JylcclxuICAgICAgICBsZXQgbmV3VHJhc2hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBuZXdUcmFzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0cmFzaC1idG4nKTtcclxuICAgICAgICBuZXdUcmFzaEJ1dHRvbi50ZXh0Q29udGVudCA9ICfwn5eR77iPJztcclxuICAgICAgICBcclxuICAgICAgICBuZXdTcGFuRGl2LmFwcGVuZENoaWxkKG5ld1NwYW4pO1xyXG4gICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdTcGFuRGl2KTtcclxuICAgICAgICBuZXdUcmFzaGNhbkRpdi5hcHBlbmRDaGlsZChuZXdUcmFzaEJ1dHRvbik7XHJcbiAgICAgICAgbmV3VGFiLmFwcGVuZENoaWxkKG5ld0Rpdik7XHJcbiAgICAgICAgbmV3VGFiLmFwcGVuZENoaWxkKG5ld1RyYXNoY2FuRGl2KTtcclxuICAgICAgICBUYWJMaXN0LmFwcGVuZENoaWxkKG5ld1RhYik7ICAgXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVMb2NhbFRhYih0YWIpIHtcclxuICAgIHJldHJpZXZlVGFic0Zyb21NZW1vcnkoKTtcclxuICAgIC8vIHdoYXQgSSBjbGljayBpcyB0aGUgZGl2LCBub3cgSSB3YW50IHRoZSBsaSBhbmQgdGhlIGlubmVyIHRleHRcclxuICAgIC8vIHNvIHdlIGNhbiBTUExJQ0UgaXRcclxuICAgIGNvbnN0IHRhYkluZGV4ID0gdGFiLmNoaWxkcmVuWzBdLmlubmVyVGV4dDtcclxuICAgIHRhYnMuc3BsaWNlKHRhYnMuaW5kZXhPZih0YWJJbmRleCksIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhYnMnLCBKU09OLnN0cmluZ2lmeSh0YWJzKSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhY3RpdmF0ZVRhYigpIHtcclxuICAgIFxyXG4gICAgaWYoVGFiTGlzdC5jaGlsZE5vZGVzWzBdID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIFRhYkxpc3QuY2hpbGROb2Rlc1swXS5jbGFzc0xpc3QuYWRkKCd0YWItYWN0aXZlJyk7ICAgIFxyXG4gICAgICAgIGdldFRvZG9zKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyVG9kb3MoKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0JykuaW5uZXJUZXh0ID0gJyc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJldHJpZXZlVGFic0Zyb21NZW1vcnkoKSB7XHJcbiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFicycpID09PSBudWxsKSB0YWJzID0gW107XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0YWJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFicycpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YWJzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb2RheURhdGUoKSB7XHJcbiAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgbGV0IGRheSA9IHRvZGF5LmdldERhdGUoKTtcclxuICAgIGxldCBtb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxO1xyXG4gICAgaWYobW9udGggPCAxMCkge1xyXG4gICAgICAgIG1vbnRoID0gYDAke21vbnRofWA7XHJcbiAgICB9ICAgICAgICBcclxuICAgIGxldCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuICAgIGxldCB0b2RheURhdGUgPSAoYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YCk7XHJcblxyXG4gICAgbGV0IGRhdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWRhdGUtaW5wdXQnKTtcclxuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ21pbicsIHRvZGF5RGF0ZSk7XHJcbn0iXSwibmFtZXMiOlsiVGFiIiwibmFtZSIsInRoaXMiLCJ0b2RvcyIsIlRvZG8iLCJkYXRlIiwicHJpb3JpdHkiLCJzdGF0dXMiLCJ0b2RvSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2RvRGF0ZUlucHV0IiwidG9kb1ByaW9yaXR5SW5wdXQiLCJ0b2RvQnV0dG9uIiwidG9kb0xpc3QiLCJmaWx0ZXJPcHRpb24iLCJhZGRUYWJCdXR0b24iLCJUYWJMaXN0IiwiZ2V0VG9kb3MiLCJyZXRyaWV2ZVRhYnNGcm9tTWVtb3J5IiwidGFiTmFtZSIsImNoaWxkcmVuIiwiaW5uZXJUZXh0IiwidGFicyIsImZvckVhY2giLCJ0YWIiLCJ0b2RvIiwidG9kb0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXdUb2RvIiwibmV3VG9kb05hbWVEaXYiLCJ0ZXh0Q29udGVudCIsIm5ld1RvZG9EYXRlRGl2IiwibmV3VG9kb1ByaW9yaXR5RGl2IiwiYXBwZW5kQ2hpbGQiLCJjb21wbGV0ZWRCdXR0b24iLCJ0cmFzaEJ1dHRvbiIsImFjdGl2YXRlVGFiIiwidW5kZWZpbmVkIiwiY2hpbGROb2RlcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5ld1RhYiIsIm5ld0RpdiIsIm5ld1NwYW5EaXYiLCJuZXdTcGFuIiwibmV3VHJhc2hjYW5EaXYiLCJuZXdUcmFzaEJ1dHRvbiIsInRvZGF5IiwiRGF0ZSIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwidG9kYXlEYXRlIiwiZ2V0RnVsbFllYXIiLCJzZXRBdHRyaWJ1dGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJuZXd0b2Rvb2JqIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzYXZlVG9kb3NpblRhYiIsIml0ZW0iLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwidG9kb0ZvclRhYiIsImZpbHRlciIsInJlbW92ZUxvY2FsVG9kb3MiLCJyZW1vdmUiLCJ0b2dnbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJjb250YWlucyIsInByb21wdCIsInNhdmVMb2NhbFRhYiIsImxlbmd0aCIsInRhYkluZGV4Iiwic3BsaWNlIiwiaW5kZXhPZiIsInJlbW92ZUxvY2FsVGFiIl0sInNvdXJjZVJvb3QiOiIifQ==